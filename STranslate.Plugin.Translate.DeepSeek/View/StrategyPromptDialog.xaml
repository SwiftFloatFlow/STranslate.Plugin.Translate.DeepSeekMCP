<Window x:Class="STranslate.Plugin.Translate.DeepSeek.View.StrategyPromptDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:ui="http://schemas.inkore.net/lib/ui/wpf/modern"
        xmlns:ikw="http://schemas.inkore.net/lib/ui/wpf"
        mc:Ignorable="d"
        Title="ç­–ç•¥æç¤ºè¯é…ç½®" 
        Height="650" 
        Width="900"
        MinHeight="550"
        MinWidth="750"
        WindowStartupLocation="CenterOwner"
        ShowInTaskbar="False"
        ui:TitleBar.ExtendViewIntoTitleBar="True"
        ui:WindowHelper.SystemBackdropType="Mica"
        ui:WindowHelper.UseModernWindowStyle="True">
    
    <Grid Margin="24,40,24,24">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="240"/>
            <ColumnDefinition Width="8"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!--  å·¦ä¾§ï¼šç­–ç•¥åˆ—è¡¨  -->
        <Grid Grid.Row="0" Grid.Column="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <!--  æ ‡é¢˜  -->
            <Border
                Grid.Row="0"
                Margin="0,0,0,16"
                Padding="12,8"
                Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
                BorderBrush="{DynamicResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="6">
                <TextBlock
                    FontWeight="SemiBold"
                    Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                    Text="ç­–ç•¥åˆ—è¡¨" />
            </Border>

            <!--  ç­–ç•¥åˆ—è¡¨  -->
            <Border
                Grid.Row="1"
                Background="{DynamicResource LayerFillColorDefaultBrush}"
                BorderBrush="{DynamicResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="6">
                <ListBox
                    x:Name="StrategyListBox"
                    Margin="4"
                    Background="Transparent"
                    ItemsSource="{Binding StrategyOptions}"
                    SelectedItem="{Binding SelectedStrategy}">
                    <ListBox.ItemContainerStyle>
                        <Style BasedOn="{StaticResource {x:Type ListBoxItem}}" TargetType="ListBoxItem">
                            <Setter Property="Padding" Value="12,8" />
                            <Setter Property="Margin" Value="2" />
                            <Setter Property="ui:ControlHelper.CornerRadius" Value="4" />
                        </Style>
                    </ListBox.ItemContainerStyle>
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <TextBlock
                                FontSize="13"
                                FontWeight="Medium"
                                Text="{Binding Name}" />
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>
            </Border>
        </Grid>

        <GridSplitter
            Grid.Row="0"
            Grid.Column="1"
            Width="8"
            HorizontalAlignment="Stretch"
            Background="Transparent" />

        <!--  å³ä¾§ï¼šç¼–è¾‘åŒºåŸŸï¼ˆå¸¦æ»šåŠ¨æ¡ï¼‰  -->
        <ScrollViewer x:Name="RightPanelScrollViewer" Grid.Row="0" Grid.Column="2" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="350" />
                </Grid.RowDefinitions>

            <!--  æ ‡é¢˜  -->
            <Border
                Grid.Row="0"
                Margin="0,0,0,16"
                Padding="12,8"
                Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
                BorderBrush="{DynamicResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="6">
                <TextBlock
                    FontWeight="SemiBold"
                    Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                    Text="{Binding SelectedStrategy.Name, StringFormat='å½“å‰ç¼–è¾‘ï¼š{0}'}" />
            </Border>

            <!--  å˜é‡è¯´æ˜Žæç¤ºæ¡†  -->
            <Border
                Grid.Row="1"
                Margin="0,0,0,12"
                Padding="12,10"
                Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
                BorderBrush="{DynamicResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="6">
                <ikw:SimpleStackPanel Spacing="5">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>
                        
                        <TextBlock
                            Grid.Row="0"
                            FontSize="12"
                            FontWeight="SemiBold"
                            Foreground="{DynamicResource SystemFillColorAttentionBrush}"
                            Margin="0,0,0,4"
                            Text="ðŸ’¡ å¯ç”¨å˜é‡å ä½ç¬¦" />
                        
                        <TextBlock Grid.Row="1" FontSize="12" Margin="0,0,0,2">
                            <Run Text="$description_rough" 
                                 FontWeight="SemiBold" 
                                 Foreground="{DynamicResource AccentTextFillColorPrimaryBrush}" />
                            <Run Text=" â†’ å·¥å…·åç§°+å‚æ•°å®šä¹‰ï¼ˆä¸å«æè¿°ï¼‰" 
                                 Foreground="{DynamicResource TextFillColorSecondaryBrush}" />
                        </TextBlock>
                        
                        <TextBlock Grid.Row="2" FontSize="12">
                            <Run Text="$description_detailed" 
                                 FontWeight="SemiBold" 
                                 Foreground="{DynamicResource AccentTextFillColorPrimaryBrush}" />
                            <Run Text=" â†’ å·¥å…·åç§°+å‚æ•°å®šä¹‰+æè¿°" 
                                 Foreground="{DynamicResource TextFillColorSecondaryBrush}" />
                        </TextBlock>
                    </Grid>
                </ikw:SimpleStackPanel>
            </Border>

            <!--  æ€»å·¥å…·è°ƒç”¨ä¸Šé™è®¾ç½®  -->
            <Border
                Grid.Row="2"
                Margin="0,0,0,12"
                Padding="12,10"
                Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
                BorderBrush="{DynamicResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="6">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    
                    <TextBlock
                        Grid.Row="0"
                        FontSize="12"
                        FontWeight="SemiBold"
                        Foreground="{DynamicResource SystemFillColorAttentionBrush}"
                        Margin="0,0,0,8"
                        Text="ðŸ“Š æ€»å·¥å…·è°ƒç”¨ä¸Šé™" />
                    
                    <ikw:SimpleStackPanel Grid.Row="1" Orientation="Horizontal" Spacing="12">
                        <Slider
                            x:Name="TotalToolCallsSlider"
                            MinWidth="200"
                            IsSnapToTickEnabled="True"
                            Maximum="50"
                            Minimum="0"
                            TickFrequency="1"
                            TickPlacement="Both"
                            Value="{Binding TotalToolCallsLimit}" />
                        
                        <TextBlock VerticalAlignment="Center" Width="120">
                            <TextBlock.Style>
                                <Style TargetType="TextBlock">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding ElementName=TotalToolCallsSlider, Path=Value}" Value="0">
                                            <Setter Property="Text" Value="æ— é™ï¼ˆä¸å¯ç”¨ä¸Šé™ï¼‰" />
                                            <Setter Property="Foreground" Value="{DynamicResource SystemFillColorSuccessBrush}" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=TotalToolCallsSlider, Path=Value}" Value="15">
                                            <Setter Property="Text" Value="15 æ¬¡ï¼ˆé»˜è®¤ï¼‰" />
                                            <Setter Property="Foreground" Value="{DynamicResource SystemFillColorAttentionBrush}" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=TotalToolCallsSlider, Path=Value}" Value="50">
                                            <Setter Property="Text" Value="50 æ¬¡ï¼ˆæœ€å¤§å€¼ï¼‰" />
                                            <Setter Property="Foreground" Value="{DynamicResource TextFillColorPrimaryBrush}" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                    <Setter Property="Text" Value="{Binding ElementName=TotalToolCallsSlider, Path=Value, StringFormat='{}{0} æ¬¡'}" />
                                    <Setter Property="Foreground" Value="{DynamicResource TextFillColorPrimaryBrush}" />
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>
                        
                        <TextBox 
                            Width="50"
                            VerticalAlignment="Center"
                            Text="{Binding ElementName=TotalToolCallsSlider, Path=Value, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                    </ikw:SimpleStackPanel>
                </Grid>
            </Border>

            <!--  è¿žç»­è°ƒç”¨ä¸Šé™è®¾ç½®  -->
            <Border
                Grid.Row="3"
                Margin="0,0,0,12"
                Padding="12,10"
                Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
                BorderBrush="{DynamicResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="6">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    
                    <TextBlock
                        Grid.Row="0"
                        FontSize="12"
                        FontWeight="SemiBold"
                        Foreground="{DynamicResource SystemFillColorAttentionBrush}"
                        Margin="0,0,0,8"
                        Text="ðŸ”„ åŒä¸€å·¥å…·è¿žç»­è°ƒç”¨ä¸Šé™ï¼ˆåŒ…æ‹¬æœç´¢å·¥å…·ï¼‰" />
                    
                    <ikw:SimpleStackPanel Grid.Row="1" Orientation="Horizontal" Spacing="12">
                        <Slider
                            x:Name="ConsecutiveLimitSlider"
                            MinWidth="200"
                            IsSnapToTickEnabled="True"
                            Maximum="10"
                            Minimum="0"
                            TickFrequency="1"
                            TickPlacement="Both"
                            Value="{Binding ConsecutiveToolLimit}" />
                        
                        <TextBlock VerticalAlignment="Center" Width="120">
                            <TextBlock.Style>
                                <Style TargetType="TextBlock">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding ElementName=ConsecutiveLimitSlider, Path=Value}" Value="0">
                                            <Setter Property="Text" Value="æ— é™ï¼ˆä¸å¯ç”¨ä¸Šé™ï¼‰" />
                                            <Setter Property="Foreground" Value="{DynamicResource SystemFillColorSuccessBrush}" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=ConsecutiveLimitSlider, Path=Value}" Value="1">
                                            <Setter Property="Text" Value="1 æ¬¡" />
                                            <Setter Property="Foreground" Value="{DynamicResource TextFillColorPrimaryBrush}" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=ConsecutiveLimitSlider, Path=Value}" Value="2">
                                            <Setter Property="Text" Value="2 æ¬¡" />
                                            <Setter Property="Foreground" Value="{DynamicResource TextFillColorPrimaryBrush}" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=ConsecutiveLimitSlider, Path=Value}" Value="3">
                                            <Setter Property="Text" Value="3 æ¬¡" />
                                            <Setter Property="Foreground" Value="{DynamicResource TextFillColorPrimaryBrush}" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=ConsecutiveLimitSlider, Path=Value}" Value="4">
                                            <Setter Property="Text" Value="4 æ¬¡" />
                                            <Setter Property="Foreground" Value="{DynamicResource TextFillColorPrimaryBrush}" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=ConsecutiveLimitSlider, Path=Value}" Value="5">
                                            <Setter Property="Text" Value="5 æ¬¡ï¼ˆé»˜è®¤ï¼‰" />
                                            <Setter Property="Foreground" Value="{DynamicResource SystemFillColorAttentionBrush}" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=ConsecutiveLimitSlider, Path=Value}" Value="6">
                                            <Setter Property="Text" Value="6 æ¬¡" />
                                            <Setter Property="Foreground" Value="{DynamicResource TextFillColorPrimaryBrush}" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=ConsecutiveLimitSlider, Path=Value}" Value="7">
                                            <Setter Property="Text" Value="7 æ¬¡" />
                                            <Setter Property="Foreground" Value="{DynamicResource TextFillColorPrimaryBrush}" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=ConsecutiveLimitSlider, Path=Value}" Value="8">
                                            <Setter Property="Text" Value="8 æ¬¡" />
                                            <Setter Property="Foreground" Value="{DynamicResource TextFillColorPrimaryBrush}" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=ConsecutiveLimitSlider, Path=Value}" Value="9">
                                            <Setter Property="Text" Value="9 æ¬¡" />
                                            <Setter Property="Foreground" Value="{DynamicResource TextFillColorPrimaryBrush}" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=ConsecutiveLimitSlider, Path=Value}" Value="10">
                                            <Setter Property="Text" Value="10 æ¬¡" />
                                            <Setter Property="Foreground" Value="{DynamicResource TextFillColorPrimaryBrush}" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>
                        
                        <TextBox 
                            Width="50"
                            VerticalAlignment="Center"
                            Text="{Binding ElementName=ConsecutiveLimitSlider, Path=Value, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                    </ikw:SimpleStackPanel>
                </Grid>
            </Border>

            <!--  å·¥å…·ç»“æžœæ˜¾ç¤ºæ¨¡å¼  -->
            <Border
                Grid.Row="4"
                Margin="0,0,0,12"
                Padding="12,10"
                Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
                BorderBrush="{DynamicResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="6">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    
                    <TextBlock
                        Grid.Row="0"
                        FontSize="12"
                        FontWeight="SemiBold"
                        Foreground="{DynamicResource SystemFillColorAttentionBrush}"
                        Margin="0,0,0,8"
                        Text="ðŸ“‹ å·¥å…·ç»“æžœæ˜¾ç¤ºæ¨¡å¼" />
                    
                    <ikw:SimpleStackPanel Grid.Row="1" Orientation="Horizontal" Spacing="12">
                        <ComboBox 
                            MinWidth="150"
                            ItemsSource="{Binding ToolResultDisplayModeOptions}"
                            SelectedValuePath="Mode"
                            SelectedValue="{Binding SelectedToolResultDisplayMode, Mode=TwoWay}"
                            DisplayMemberPath="DisplayName"/>
                        
                        <TextBlock VerticalAlignment="Center" FontSize="11" Foreground="{DynamicResource TextFillColorSecondaryBrush}">
                            <TextBlock.Style>
                                <Style TargetType="TextBlock">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding SelectedToolResultDisplayMode}" Value="Disabled">
                                            <Setter Property="Text" Value="ä¸æ˜¾ç¤ºå·¥å…·ç»“æžœå’Œå†…è”" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding SelectedToolResultDisplayMode}" Value="Minimal">
                                            <Setter Property="Text" Value="ä»…å†…è”æ˜¾ç¤ºå·¥å…·å" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding SelectedToolResultDisplayMode}" Value="Mixed">
                                            <Setter Property="Text" Value="å†…è”+æˆªæ–­æ˜¾ç¤ºç»“æžœ" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding SelectedToolResultDisplayMode}" Value="Detailed">
                                            <Setter Property="Text" Value="å†…è”+å®Œæ•´æ˜¾ç¤ºç»“æžœ" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                    <Setter Property="Text" Value="è¯·é€‰æ‹©æ˜¾ç¤ºæ¨¡å¼" />
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>
                    </ikw:SimpleStackPanel>
                </Grid>
            </Border>

            <!--  æ˜¾ç¤ºå·¥å…·é“¾å¼€å…³  -->
            <Border
                Grid.Row="5"
                Margin="0,0,0,12"
                Padding="12,10"
                Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
                BorderBrush="{DynamicResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="6">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    
                    <ikw:SimpleStackPanel Grid.Row="0" Orientation="Horizontal" Spacing="12">
                        <TextBlock
                            FontSize="12"
                            FontWeight="SemiBold"
                            Foreground="{DynamicResource SystemFillColorAttentionBrush}"
                            Text="â›“ï¸ æ˜¾ç¤ºå·¥å…·é“¾" 
                            VerticalAlignment="Center"/>
                        
                        <ui:ToggleSwitch 
                            IsOn="{Binding EnableToolChainDisplay, Mode=TwoWay}"
                            VerticalAlignment="Center">
                            <ui:ToggleSwitch.OnContent>
                                <Grid/>
                            </ui:ToggleSwitch.OnContent>
                            <ui:ToggleSwitch.OffContent>
                                <Grid/>
                            </ui:ToggleSwitch.OffContent>
                        </ui:ToggleSwitch>
                        
                        <TextBlock VerticalAlignment="Center" FontSize="11" Foreground="{DynamicResource TextFillColorSecondaryBrush}">
                            <TextBlock.Style>
                                <Style TargetType="TextBlock">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding EnableToolChainDisplay}" Value="True">
                                            <Setter Property="Text" Value="å·²å¯ç”¨" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding EnableToolChainDisplay}" Value="False">
                                            <Setter Property="Text" Value="å·²ç¦ç”¨" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>
                    </ikw:SimpleStackPanel>
                </Grid>
            </Border>

            <!--  é¢„è§ˆåˆ‡æ¢æŒ‰é’®  -->
            <Button Grid.Row="6" Margin="0,0,0,8" HorizontalAlignment="Left" Command="{Binding TogglePreviewCommand}" FontSize="12">
                <Button.Style>
                    <Style TargetType="Button" BasedOn="{StaticResource {x:Type Button}}">
                        <Setter Property="Content" Value="ðŸ‘ï¸ æ˜¾ç¤ºé¢„è§ˆ" />
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding ShowPreview}" Value="True">
                                <Setter Property="Content" Value="ðŸ‘ï¸ éšè—é¢„è§ˆ" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Button.Style>
            </Button>
            
            <!--  é¢„è§ˆåŒºåŸŸ  -->
            <Border
                Grid.Row="7"
                Margin="0,0,0,12"
                Padding="12"
                Background="{DynamicResource LayerFillColorAltBrush}"
                BorderBrush="{DynamicResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="6"
                Visibility="{Binding ShowPreview, Converter={StaticResource BooleanToVisibilityConverter}}">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    
                    <TextBlock
                        Grid.Row="0"
                        Text="ðŸ’¡ é¢„è§ˆï¼ˆå˜é‡æ›¿æ¢åŽçš„æ•ˆæžœï¼‰"
                        FontSize="12"
                        FontWeight="SemiBold"
                        Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                        Margin="0,0,0,8" />
                    
                    <ScrollViewer Grid.Row="1" MaxHeight="150" VerticalScrollBarVisibility="Auto">
                        <TextBlock
                            Text="{Binding PreviewText}"
                            FontSize="11"
                            FontFamily="Consolas, Monaco, monospace"
                            TextWrapping="Wrap"
                            Foreground="{DynamicResource TextFillColorPrimaryBrush}" />
                    </ScrollViewer>
                </Grid>
            </Border>

            <!--  å†…å®¹ç¼–è¾‘  -->
            <Border
                Grid.Row="8"
                Background="{DynamicResource LayerFillColorDefaultBrush}"
                BorderBrush="{DynamicResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="6">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    
                    <TextBlock
                        Grid.Row="0"
                        Text="ðŸ“ æç¤ºè¯ç¼–è¾‘"
                        FontSize="12"
                        FontWeight="SemiBold"
                        Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                        Margin="12,8,12,4" />
                    
                    <TextBox
                        x:Name="PromptTextBox"
                        Grid.Row="1"
                        Padding="12"
                        AcceptsReturn="True"
                        Background="Transparent"
                        BorderThickness="0"
                        FontSize="13"
                        FontFamily="Consolas, Monaco, monospace"
                        Text="{Binding CurrentPrompt, UpdateSourceTrigger=PropertyChanged}"
                        TextWrapping="Wrap"
                        VerticalScrollBarVisibility="Auto" />
                    
                    <!--  éªŒè¯è­¦å‘Šï¼ˆæ— å˜é‡æ—¶æ˜¾ç¤ºï¼‰  -->
                    <Border
                        Grid.Row="2"
                        Visibility="{Binding ShowValidationWarning, Converter={StaticResource BooleanToVisibilityConverter}}"
                        Margin="12,0,12,12"
                        Padding="10,8"
                        Background="{DynamicResource SystemFillColorCautionBackgroundBrush}"
                        BorderBrush="{DynamicResource SystemFillColorCautionBrush}"
                        BorderThickness="1"
                        CornerRadius="4">
                        <TextBlock
                            FontSize="11"
                            Foreground="{DynamicResource SystemFillColorCautionBrush}"
                            TextWrapping="Wrap"
                            Text="âš ï¸ æç¤ºè¯ä¸­æœªåŒ…å«å˜é‡å ä½ç¬¦ï¼ˆ$description_rough æˆ– $description_detailedï¼‰ï¼Œç³»ç»Ÿå°†ä¸ä¼šæ’å…¥å·¥å…·åˆ—è¡¨ã€‚ç¡®å®šè¦ä¿å­˜å—ï¼Ÿ" />
                    </Border>
                </Grid>
            </Border>
            </Grid>
        </ScrollViewer>

        <!--  åº•éƒ¨æŒ‰é’®  -->
        <ikw:SimpleStackPanel
            Grid.Row="1"
            Grid.Column="0"
            Grid.ColumnSpan="3"
            Margin="0,16,0,0"
            HorizontalAlignment="Right"
            Orientation="Horizontal"
            Spacing="12">
            <Button
                MinWidth="100"
                Padding="16,8"
                Command="{Binding ResetToDefaultCommand}"
                Content="é‡ç½®ä¸ºé»˜è®¤"
                FontSize="13" />
            <Button
                MinWidth="90"
                Padding="16,8"
                Command="{Binding SaveCommand}"
                Content="ä¿å­˜"
                FontSize="13"
                FontWeight="Medium"
                IsDefault="True"
                Style="{StaticResource AccentButtonStyle}" />
            <Button
                MinWidth="90"
                Padding="16,8"
                Command="{Binding CancelCommand}"
                Content="å–æ¶ˆ"
                FontSize="13"
                IsCancel="True" />
        </ikw:SimpleStackPanel>
    </Grid>
</Window>
